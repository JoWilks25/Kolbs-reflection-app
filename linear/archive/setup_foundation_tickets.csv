"Title","Description","Parent","Type","Labels","Estimate","Priority","Acceptance Criteria"
"Setup & Foundation - Expo Project Initialization","Initialize the Expo React Native project with all necessary configuration, navigation structure, state management, database schema, and theme system. This is the foundational work that all feature tickets depend on.","","Epic","phase:setup,foundation,platform:ios","8","High","Project builds without errors; Can navigate between all placeholder screens; Database initializes and tables exist; Store updates trigger component re-renders; Theme constants apply correctly to test screen"
"Create Expo Project & Install Dependencies","Initialize new Expo managed workflow project targeting iOS only with Expo SDK 52+. Install all required dependencies from the tech stack.

Implementation Steps:
1. Run `npx create-expo-app kolbs-reflection --template blank-typescript`
2. Configure `app.json`:
   - Set `platforms: [""ios""]`
   - Add `bundleIdentifier` for iOS
   - Configure `infoPlist` entries for microphone and Face ID
3. Install core dependencies:
   ```
   npx expo install expo-sqlite expo-file-system expo-sharing expo-secure-store expo-local-authentication
   npm install @react-navigation/native @react-navigation/stack zustand react-native-uuid react-native-toast-message
   npx expo install react-native-screens react-native-safe-area-context
   ```
4. Create `.gitignore` if not present
5. Test: `npx expo start` runs without errors on iOS simulator

Files Created:
- app.json (configured)
- package.json (with dependencies)
- .gitignore","Setup & Foundation - Expo Project Initialization","Subtask","setup,expo,dependencies","1","High","Project builds and runs on iOS simulator; No console errors on initial load; White screen with 'Open up App.tsx to start working' shows"
"Setup Navigation Structure","Create React Navigation stack navigator with placeholder screens for all app screens.

Implementation Steps:
1. Create `navigation/RootStackNavigator.tsx`:
   - Stack navigator with 8 screens: Home, SessionSetup, SessionActive, ReflectionFormat, ReflectionPrompts, ReflectionFeedback, SeriesTimeline, Settings
2. Create placeholder screen files in `screens/`:
   - HomeScreen.tsx
   - SessionSetupScreen.tsx
   - SessionActiveScreen.tsx
   - ReflectionFormatScreen.tsx
   - ReflectionPromptsScreen.tsx
   - ReflectionFeedbackScreen.tsx
   - SeriesTimelineScreen.tsx
   - SettingsScreen.tsx
3. Each placeholder shows screen name in <Text> component
4. Wire navigator into App.tsx with NavigationContainer

Files Created:
- navigation/RootStackNavigator.tsx
- screens/*.tsx (8 placeholder files)
- Modified: App.tsx","Setup & Foundation - Expo Project Initialization","Subtask","setup,navigation","2","High","App loads to HomeScreen by default; Can programmatically navigate between screens (add temporary button in HomeScreen to test); Navigation header shows screen titles; Back navigation works"
"Create Theme Constants","Create centralized theme system with colors, spacing, typography constants for consistent styling across the app.

Implementation Steps:
1. Create `utils/constants.ts` with:
   - Colors: primary, secondary, background, text, success, warning, error, neutral shades
   - Spacing: base unit (8px), common spacing values (xs, sm, md, lg, xl)
   - Typography: font sizes, weights, line heights
   - App constants: MAX_REFLECTION_CHARS = 3000, deadline thresholds (24h, 48h in ms)
2. Export as named constants
3. Apply basic theme to one placeholder screen (e.g., HomeScreen) to verify import works

Files Created:
- utils/constants.ts","Setup & Foundation - Expo Project Initialization","Subtask","setup,theme,ui","1","Medium","Import theme into HomeScreen; Apply background color and text color from theme; Verify colors render correctly on simulator"
"Initialize SQLite Database with Schema","Set up encrypted SQLite database with complete schema including practice_areas, sessions, reflections tables, indexes, and migration system.

Implementation Steps:
1. Create `db/schema.ts`:
   - Table creation SQL for practice_areas, sessions, reflections (exact schema from spec)
   - Index creation statements
   - PRAGMA journal_mode = WAL; for performance
2. Create `db/migrations.ts`:
   - initDatabase() function that runs schema on first launch
   - Check if tables exist before creating
   - Use expo-sqlite with enableCRSQLite: true for encryption
3. Create `db/queries.ts` (empty for now, ready for helpers)
4. Call initDatabase() in App.tsx before rendering navigation
5. Add loading state while DB initializes

Files Created:
- db/schema.ts
- db/migrations.ts
- db/queries.ts (skeleton)
- Modified: App.tsx

SQL Validation Test:
```typescript
// Temporary test in App.tsx after init
const testDB = async () => {
  const result = await db.getAllAsync(""SELECT name FROM sqlite_master WHERE type='table'"");
  console.log('Tables:', result); // Should show practice_areas, sessions, reflections
};
```","Setup & Foundation - Expo Project Initialization","Subtask","setup,database,sqlite,security","3","High","App initializes without errors; Use a SQLite inspector (or manual query in code) to verify tables exist with correct columns; Verify indexes are created; Test on fresh install (delete app, reinstall) - should recreate DB"
"Create Zustand Store Structure","Initialize Zustand store with all state slices and actions as defined in spec.

Implementation Steps:
1. Create `stores/appStore.ts`
2. Implement store structure from spec with sections:
   - Practice Area state: practiceAreas, currentPracticeArea
   - Session state: currentSession, sessionStartTime, sessionTimer
   - Reflection draft: reflectionDraft object with format, step2, step3, step4, feedbackRating, feedbackNote
   - UI state: showSecurityWarning, pendingReflectionsCount
3. Implement all actions:
   - setPracticeAreas, setCurrentPracticeArea
   - startSession, updateTimer, endSession
   - setReflectionFormat, updateReflectionDraft, clearReflectionDraft
   - setShowSecurityWarning, setPendingReflectionsCount
4. Add TypeScript types in `utils/types.ts` for:
   - PracticeArea, Session, Reflection, ReflectionDraft

Files Created:
- stores/appStore.ts
- utils/types.ts","Setup & Foundation - Expo Project Initialization","Subtask","setup,state,zustand","2","High","Import store in HomeScreen placeholder; Call setPracticeAreas([{ id: '1', name: 'Test' }]) in useEffect; Read practiceAreas from store and display in Text; Verify state updates and component re-renders; Test timer actions: startSession, updateTimer, check sessionTimer increments"
"Create Helper Utilities","Create utility files for UUID generation and common helper functions.

Implementation Steps:
1. Create `utils/uuid.ts`:
   - Wrapper around react-native-uuid for consistent ID generation
   - Export generateId() function
2. Add common date/time formatters to `utils/constants.ts`:
   - formatTimer(seconds) → ""MM:SS"" or ""HH:MM:SS""
   - formatDate(timestamp) → human-readable format
3. Export all from `utils/index.ts` for easy importing

Files Created:
- utils/uuid.ts
- utils/index.ts
- Modified: utils/constants.ts","Setup & Foundation - Expo Project Initialization","Subtask","setup,utils","1","Medium","Import generateId() and verify it produces unique IDs; Test formatTimer(65) returns '01:05'; Test formatTimer(3665) returns '01:01:05'"
